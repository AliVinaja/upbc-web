<!DOCTYPE html>
<html lang="es">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Calendario Escolar 2025 - Universidad Politécnica de Baja California">
    <meta name="author" content="UPBC">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

    <title>Calendario Escolar 2025 - Universidad Politécnica de Baja California</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="assets/css/fontawesome.css">
    <link rel="stylesheet" href="assets/css/owl.css">
    <link rel="stylesheet" href="assets/css/lightbox.css">
    <link rel="stylesheet" href="assets/css/templatemo-edu-meeting.css">
    <!-- UPBC CSS Modular Structure (cargado al final para tener prioridad) -->
    <link rel="stylesheet" href="assets/css/upbc-main.css?v=1.1">
    <link rel="stylesheet" href="assets/css/main-carousel.css?v=1.1">
    <link rel="stylesheet" href="assets/css/components/custom-spacing.css?v=1.1">
    <link rel="stylesheet" href="assets/css/components/welcome-section.css">
    
    <!-- PDF.js Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
    <style>
      /* Estilos específicos para la página del calendario */
      .calendario-container {
        background-color: #f8f9fa;
        padding: 60px 0;
        min-height: 80vh;
      }
      
      .pdf-container {
        background-color: white;
        border-radius: 10px;
        box-shadow: 0 4px 20px rgba(96,43,130,0.08);
        padding: 20px;
        margin-bottom: 30px;
        display: flex;
        justify-content: center;
      }
      
      .pdf-viewer {
        width: 100%;
        height: 800px;
        border: none;
      }
      
      .calendar-controls {
        margin-bottom: 20px;
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        justify-content: center;
      }
      
      .calendar-controls .btn {
        margin: 5px;
        padding: 8px 15px;
        border-radius: 30px;
        font-weight: 600;
        font-size: 14px;
        transition: all 0.3s;
      }
      
      .btn-purple {
        background-color: var(--upbc-purple);
        color: white;
      }
      
      .btn-purple:hover {
        background-color: #4e2a6b;
        color: white;
      }
      
      .page-heading {
        text-align: center;
        margin-bottom: 40px;
      }
      
      .page-heading h2 {
        color: var(--upbc-purple);
        font-weight: 700;
      }
      
      .page-heading p {
        color: #666;
        max-width: 800px;
        margin: 0 auto;
      }
      
      /* Estilos responsivos */
      @media (max-width: 768px) {
        .pdf-viewer {
          height: 500px;
        }
        
        .calendario-container {
          padding: 40px 0;
        }
      }
    </style>
  </head>

<body>

  <!-- ***** Header Area Start ***** -->
  <div id="navbar-container"></div>
  <!-- ***** Header Area End ***** -->
  
  <!-- Espacio para que el menú no tape el contenido -->
  <div style="height: 60px;"></div>

  <!-- ***** Calendario Area Start ***** -->
  <section class="calendario-container">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">
          <div class="page-heading">
            <h2>Calendario Escolar 2025</h2>
            <p>Consulta las fechas importantes del ciclo escolar, periodos de inscripción, vacaciones y eventos académicos.</p>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-lg-12">
          <div class="calendar-controls">
            <a href="assets/pdfs/UPBC_Calendario2025.pdf" download class="btn btn-purple">
              <i class="fa fa-download"></i> Descargar PDF
            </a>
          </div>
        </div>
      </div>
      
      <div class="row">
        <div class="col-lg-12">
          <div class="pdf-container">
            <!-- Utilizamos PDF.js para mostrar el PDF de manera interactiva -->
            <div id="pdf-viewer-container">
              <canvas id="pdf-renderer"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- ***** Calendario Area End ***** -->

  <!-- ***** Footer Start ***** -->
  <div id="footer-container"></div>
  <!-- ***** Footer End ***** -->

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <script src="assets/js/isotope.min.js"></script>
  <script src="assets/js/owl-carousel.js"></script>
  <script src="assets/js/lightbox.js"></script>
  <script src="assets/js/tabs.js"></script>
  <script src="assets/js/video.js"></script>
  <script src="assets/js/slick-slider.js"></script>
  <script src="assets/js/custom.js"></script>
  
  <!-- PDF.js para visualizar el PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
  <script>
    // Configuración de PDF.js
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js';
    
    let pdfDoc = null,
        pageNum = 1,
        pageRendering = false,
        pageNumPending = null,
        scale = 1.0,
        canvas = document.getElementById('pdf-renderer'),
        ctx = canvas.getContext('2d');
    
    // Cargar el PDF
    function loadPDF(url) {
      pdfjsLib.getDocument(url).promise.then(function(pdf) {
        pdfDoc = pdf;
        
        // Renderizar la primera página
        renderPage(pageNum);
      }).catch(function(error) {
        console.error('Error al cargar el PDF:', error);
        const container = document.getElementById('pdf-viewer-container');
        container.innerHTML = '<div class="alert alert-danger">Error al cargar el PDF. Por favor, intente más tarde.</div>';
      });
    }
    
    // Renderizar la página especificada
    function renderPage(num) {
      pageRendering = true;
      
      // Obtener la página
      pdfDoc.getPage(num).then(function(page) {
        const viewport = page.getViewport({ scale: scale });
        canvas.height = viewport.height;
        canvas.width = viewport.width;
        
        // Ajustar el contenedor al tamaño del PDF
        const pdfContainer = document.getElementById('pdf-viewer-container');
        pdfContainer.style.width = viewport.width + 'px';
        pdfContainer.style.height = viewport.height + 'px';
        
        // Renderizar PDF en el canvas
        const renderContext = {
          canvasContext: ctx,
          viewport: viewport
        };
        
        const renderTask = page.render(renderContext);
        
        // Esperar a que termine el renderizado
        renderTask.promise.then(function() {
          pageRendering = false;
          
          if (pageNumPending !== null) {
            // Hay una página pendiente, renderizarla
            renderPage(pageNumPending);
            pageNumPending = null;
          }
        });
      });
      
      // Ya no es necesario actualizar el estado de los botones de navegación
    }
    
    // Estas funciones se han eliminado ya que no se necesitan los botones de navegación y zoom
    
    // Poner en cola el renderizado de página
    function queueRenderPage(num) {
      if (pageRendering) {
        pageNumPending = num;
      } else {
        renderPage(num);
      }
    }
    
    // Los eventos de los botones se han eliminado ya que los botones no existen más
    
    // Cargar el PDF cuando la página esté lista
    document.addEventListener('DOMContentLoaded', function() {
      loadPDF('assets/pdfs/UPBC_Calendario2025.pdf');
    });
  </script>
  
  <!-- Script para cargar componentes -->
  <script src="components-loader.js"></script>
</body>
</html>

